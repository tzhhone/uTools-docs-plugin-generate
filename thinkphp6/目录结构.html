<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>目录结构</title>


</head>
<body>
<div class="window-body">
    <div class="workspace">
        <div class="article">
            <div class="kancloud-markdown-body">
                <div id="s107320811"><blockquote class="info"><p>相对于<code>5.1</code>来说，<code>6.0</code>版本目录结构的主要变化是核心框架纳入<code>vendor</code>目录，然后原来的<code>application</code>目录变成<code>app</code>目录。</p></blockquote>
<p><code>6.0</code>支持多应用模式部署，所以实际的目录结构取决于你采用的是单应用还是多应用模式，分别说明如下。</p>
<h2><a id="_4"></a>单应用模式</h2>
<p>默认安装后的目录结构就是一个单应用模式</p>
<div class="ಠcopy-code-container"><pre><code class="ಠhighlight-container">www  WEB部署目录（或者子目录）
├─app           应用目录
│  ├─controller      控制器目录
│  ├─model           模型目录
│  ├─ <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>            更多类库目录
│  │
│  ├─common<span class="token punctuation">.</span>php         公共函数文件
│  └─event<span class="token punctuation">.</span>php          事件定义文件
│
├─config                配置目录
│  ├─app<span class="token punctuation">.</span>php            应用配置
│  ├─cache<span class="token punctuation">.</span>php          缓存配置
│  ├─console<span class="token punctuation">.</span>php        控制台配置
│  ├─cookie<span class="token punctuation">.</span>php         Cookie配置
│  ├─database<span class="token punctuation">.</span>php       数据库配置
│  ├─filesystem<span class="token punctuation">.</span>php     文件磁盘配置
│  ├─lang<span class="token punctuation">.</span>php           多语言配置
│  ├─log<span class="token punctuation">.</span>php            日志配置
│  ├─middleware<span class="token punctuation">.</span>php     中间件配置
│  ├─route<span class="token punctuation">.</span>php          URL和路由配置
│  ├─session<span class="token punctuation">.</span>php        Session配置
│  ├─trace<span class="token punctuation">.</span>php          Trace配置
│  └─view<span class="token punctuation">.</span>php           视图配置
│
├─view            视图目录
├─route                 路由定义目录
│  ├─route<span class="token punctuation">.</span>php          路由定义文件
│  └─ <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   
│
├─public                WEB目录（对外访问目录）
│  ├─index<span class="token punctuation">.</span>php          入口文件
│  ├─router<span class="token punctuation">.</span>php         快速测试文件
│  └─<span class="token punctuation">.</span>htaccess          用于apache的重写
│
├─extend                扩展类库目录
├─runtime               应用的运行时目录（可写，可定制）
├─vendor                Composer类库目录
├─<span class="token punctuation">.</span>example<span class="token punctuation">.</span>env          环境变量示例文件
├─composer<span class="token punctuation">.</span>json         composer 定义文件
├─LICENSE<span class="token punctuation">.</span>txt           授权说明文件
├─README<span class="token punctuation">.</span>md             README 文件
├─think                 命令行入口文件
</code></pre></div>
<h2><a id="_52"></a>多应用模式</h2>
<p>如果你需要一个多应用的项目架构，目录结构可以参考下面的结构进行调整（关于配置文件的详细结构参考后面章节）。</p>
<div class="ಠcopy-code-container"><pre><code class="ಠhighlight-container">www  WEB部署目录（或者子目录）
├─app           应用目录
│  ├─app_name           应用目录
│  │  ├─common<span class="token punctuation">.</span>php      函数文件
│  │  ├─controller      控制器目录
│  │  ├─model           模型目录
│  │  ├─view            视图目录
│  │  ├─config          配置目录
│  │  ├─route           路由目录
│  │  └─ <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>            更多类库目录
│  │
│  ├─common<span class="token punctuation">.</span>php         公共函数文件
│  └─event<span class="token punctuation">.</span>php          事件定义文件
│
├─config                全局配置目录
│  ├─app<span class="token punctuation">.</span>php            应用配置
│  ├─cache<span class="token punctuation">.</span>php          缓存配置
│  ├─console<span class="token punctuation">.</span>php        控制台配置
│  ├─cookie<span class="token punctuation">.</span>php         Cookie配置
│  ├─database<span class="token punctuation">.</span>php       数据库配置
│  ├─filesystem<span class="token punctuation">.</span>php     文件磁盘配置
│  ├─lang<span class="token punctuation">.</span>php           多语言配置
│  ├─log<span class="token punctuation">.</span>php            日志配置
│  ├─middleware<span class="token punctuation">.</span>php     中间件配置
│  ├─route<span class="token punctuation">.</span>php          URL和路由配置
│  ├─session<span class="token punctuation">.</span>php        Session配置
│  ├─trace<span class="token punctuation">.</span>php          Trace配置
│  └─view<span class="token punctuation">.</span>php           视图配置
│
├─public                WEB目录（对外访问目录）
│  ├─index<span class="token punctuation">.</span>php          入口文件
│  ├─router<span class="token punctuation">.</span>php         快速测试文件
│  └─<span class="token punctuation">.</span>htaccess          用于apache的重写
│
├─extend                扩展类库目录
├─runtime               应用的运行时目录（可写，可定制）
├─vendor                Composer类库目录
├─<span class="token punctuation">.</span>example<span class="token punctuation">.</span>env          环境变量示例文件
├─composer<span class="token punctuation">.</span>json         composer 定义文件
├─LICENSE<span class="token punctuation">.</span>txt           授权说明文件
├─README<span class="token punctuation">.</span>md             README 文件
├─think                 命令行入口文件
</code></pre></div>
<blockquote class="danger"><p>多应用模式部署后，记得删除<code>app</code>目录下的<code>controller</code>目录（系统根据该目录作为判断是否单应用的依据）。</p></blockquote>
<p>在实际的部署中，请确保只有<code>public</code>目录可以对外访问。</p>
<blockquote class="danger"><p>在<code>mac</code>或者<code>linux</code>环境下面，注意需要设置<code>runtime</code>目录权限为777。</p></blockquote>
<h2><a id="_107"></a>默认应用文件</h2>
<p>默认安装后，<code>app</code>目录下会包含下面的文件。</p>
<div class="ಠcopy-code-container"><pre><code class="ಠhighlight-container">├─app           应用目录
│  │
│  ├─BaseController<span class="token punctuation">.</span>php    默认基础控制器类
│  ├─ExceptionHandle<span class="token punctuation">.</span>php   应用异常定义文件
│  ├─common<span class="token punctuation">.</span>php            全局公共函数文件
│  ├─middleware<span class="token punctuation">.</span>php        全局中间件定义文件
│  ├─provider<span class="token punctuation">.</span>php          服务提供定义文件
│  ├─Request<span class="token punctuation">.</span>php           应用请求对象
│  └─event<span class="token punctuation">.</span>php             全局事件定义文件
</code></pre></div>
<p><code>BaseController.php</code>、<code>Request.php</code> 和<code>ExceptionHandle.php</code>三个文件是系统默认提供的基础文件，位置你可以随意移动，但注意要同步调整类的命名空间。如果你不需要使用<code>Request.php</code> 和<code>ExceptionHandle.php</code>文件，或者要调整类名，记得必须同步调整<code>provider.php</code>文件中的容器对象绑定。</p>
<blockquote class="danger"><p><code>provider.php</code>服务提供定义文件只能全局定义，不支持在应用下单独定义</p></blockquote>
</div>
            </div>
        </div>
    </div>
</div>
</body>
<link rel="stylesheet" href="css/tzhhone.css">
<link rel="stylesheet" href="css/style.css">
<style type="text/css" data-react-helmet="true">

    pre {
        background: #f9fafa;
        border: 1px solid #ded9d9;
    }

    code {
        background: #f9fafa;
        border: 1px solid #ded9d9;
        margin: 0px 5px;
        padding: 2px 6px;
    }

    pre code {
        border: none;
        padding: 0px;
        margin: 0px;
    }

    .default {
        border-left: 5px solid #5bc0de;
        margin: 8px 0;
        padding: 8px 16px;
        background-color: #f4f8fa;
        color: #5bc0de;
    }

    strong {
        background-color: yellow;
        padding: 2px 5px;
        font-weight: 600;
    }

    h2 {
        font-size: 30px;
        font-weight: 400;
        line-height: 1.1;
        color: #222223;
        margin: 10px 0px;
        font-family: "Georgia", "Xin Gothic", "Hiragino Sans GB", "Droid Sans Fallback", "Microsoft YaHei", "SimSun", sans-serif;
    }

    h3 {

        font-size: 24px;
        font-weight: 400;
        font-family: "Georgia", "Xin Gothic", "Hiragino Sans GB", "Droid Sans Fallback", "Microsoft YaHei", "SimSun", sans-serif;
    }

    blockquote p {
        margin-bottom: 0.46em;
    }

    p {
        line-height: 30px;
        margin-top: 0;
        margin-bottom: 1.46em;
        font: 300 17px/1.62 "Georgia", "Xin Gothic", "Hiragino Sans GB", "Droid Sans Fallback", "Microsoft YaHei", sans-serif;
    }

    table {
        line-height: 30px;
        font-family: IBM Plex Mono, Space Grotesk, Roboto Slab, Microsoft YaHei, sans-serif;
        font-weight: 300;
        font-size: 17px;
    }

    li {
        line-height: 30px;
        font-family: "Georgia", "Xin Gothic", "Hiragino Sans GB", "Droid Sans Fallback", "Microsoft YaHei", "SimSun", sans-serif;
        font-weight: 300;
        font-size: 17px;
    }
</style>
</html>